import apiUtils from 'cribspot-core/src/utils/api-utils';
import { BadParamError } from 'cribspot-core/src/errors';

import constants from '../../../constants';

export default {

  fetch<%= componentName %>(authData, <%= componentNameCamel %>Link, invalidateCache) {
    if (!authData) {
      throw new BadParamError('authData', authData);
    } else if (!<%= componentNameCamel %>Link) {
      throw new BadParamError('<%= componentNameCamel %>Link', <%= componentNameCamel %>Link);
    }

    const headers = new Headers({
      Authorization: `Token token="${authData.get('token')}", email="${authData.get('email')}"`,
    });

    return apiUtils.fetch(`${constants.api.BASE}${<%= componentNameCamel %>Link}`, {
      headers,
    }, invalidateCache);
  },

};
